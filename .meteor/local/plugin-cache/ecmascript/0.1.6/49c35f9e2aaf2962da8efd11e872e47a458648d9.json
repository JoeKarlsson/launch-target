{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"var finalTargets;\nvar MAP_ZOOM = 16;\nvar results;\n\nTemplate.finalLaunchPlan.helpers({\n  getAllFinalTargets: function () {\n    finalTargets = this.finalLaunches;\n    return Session.set('selectedLaunches', finalTargets);\n  }\n});\n\n//Pull latitude and longitude from google maps api and return location zoom\nTemplate.finalLaunchPlan.helpers({\n  //If there is an error finding the current users geoloaction - spit out error to the DOM\n  geolocationError: function () {\n    var error = Geolocation.error();\n    return error && error.message;\n  },\n\n  //Set out map options\n  mapOptions: function () {\n    var latLng = Geolocation.latLng();\n\n    //Initialize the map once we  have the latLng.\n    if (GoogleMaps.loaded() && latLng) {\n      return {\n        center: new google.maps.LatLng(latLng.lat, latLng.lng),\n        zoom: MAP_ZOOM,\n\n        // This is where you would paste any style found on Snazzy Maps.\n        styles: [{ 'featureType': 'all', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'administrative', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'administrative.country', 'elementType': 'geometry.stroke', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'administrative.province', 'elementType': 'geometry.stroke', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'landscape', 'elementType': 'geometry', 'stylers': [{ 'visibility': 'on' }, { 'color': '#e3e3e3' }] }, { 'featureType': 'landscape', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'landscape.man_made', 'elementType': 'geometry.fill', 'stylers': [{ 'saturation': '0' }, { 'lightness': '6' }, { 'weight': '0.90' }] }, { 'featureType': 'landscape.man_made', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'landscape.natural', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }, { 'lightness': '0' }] }, { 'featureType': 'poi', 'elementType': 'geometry.fill', 'stylers': [{ 'visibility': 'simplified' }] }, { 'featureType': 'poi', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.attraction', 'elementType': 'all', 'stylers': [{ 'visibility': 'simplified' }] }, { 'featureType': 'poi.attraction', 'elementType': 'geometry', 'stylers': [{ 'visibility': 'simplified' }] }, { 'featureType': 'poi.attraction', 'elementType': 'geometry.fill', 'stylers': [{ 'visibility': 'simplified' }] }, { 'featureType': 'poi.attraction', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.business', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.business', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.government', 'elementType': 'all', 'stylers': [{ 'visibility': 'simplified' }] }, { 'featureType': 'poi.government', 'elementType': 'geometry', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.government', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.medical', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.park', 'elementType': 'geometry.fill', 'stylers': [{ 'visibility': 'on' }, { 'color': '#e6f0d7' }] }, { 'featureType': 'poi.place_of_worship', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.school', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'poi.sports_complex', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'road', 'elementType': 'all', 'stylers': [{ 'color': '#cccccc' }] }, { 'featureType': 'road', 'elementType': 'geometry', 'stylers': [{ 'visibility': 'on' }] }, { 'featureType': 'road', 'elementType': 'geometry.fill', 'stylers': [{ 'saturation': '0' }, { 'lightness': '30' }] }, { 'featureType': 'road', 'elementType': 'geometry.stroke', 'stylers': [{ 'visibility': 'on' }] }, { 'featureType': 'road', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit', 'elementType': 'labels.icon', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit.line', 'elementType': 'geometry', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit.line', 'elementType': 'labels.text', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit.station', 'elementType': 'all', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit.station.airport', 'elementType': 'geometry', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'transit.station.airport', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }, { 'featureType': 'water', 'elementType': 'geometry', 'stylers': [{ 'color': '#FFFFFF' }] }, { 'featureType': 'water', 'elementType': 'geometry.fill', 'stylers': [{ 'lightness': '-28' }, { 'saturation': '33' }, { 'color': '#f2f8fd' }] }, { 'featureType': 'water', 'elementType': 'labels', 'stylers': [{ 'visibility': 'off' }] }]\n\n      };\n    }\n  },\n  allTargets: function () {\n    return Session.get('allTargets');\n  }\n});\n\n//Create google maps marker for current location\nTemplate.finalLaunchPlan.onCreated(function () {\n  var self = this;\n\n  GoogleMaps.ready('map', function (map) {\n    //get lat and long from current location\n    var latLng = Geolocation.latLng();\n\n    //variable within scope that sets current location\n    var currentPost = new google.maps.LatLng(latLng.lat, latLng.lng);\n\n    //variable that creates a new instance of marker information display\n    var infowindow = new google.maps.InfoWindow();\n\n    //Gold star SVG to mark current location\n    var goldStar = {\n      path: 'M 125,5 155,90 245,90 175,145 200,230 125,180 50,230 75,145 5,90 95,90 z',\n      fillColor: 'yellow',\n      fillOpacity: 0.8,\n      scale: .25,\n      strokeColor: 'gold',\n      strokeWeight: 5\n    };\n\n    //drop marker on current location\n    var marker = new google.maps.Marker({\n      position: currentPost,\n      map: map.instance,\n      icon: goldStar,\n      animation: google.maps.Animation.DROP\n    });\n\n    setMarkers(finalTargets);\n\n    function setMarkers(places) {\n      for (var i = 0; i < places.length; i++) {\n        //console.log('places', places[i]);\n        createMarker(places[i]);\n      }\n    }\n\n    //create marker for all restaurant locations within radius\n    function createMarker(place) {\n\n      var placeLoc = {\n        lat: place.location.G,\n        lng: place.location.K\n      };\n\n      console.log('placeLoc', placeLoc);\n      var marker = new google.maps.Marker({\n        map: map.instance,\n        position: placeLoc,\n        draggable: false,\n        icon: place.icon,\n        animation: google.maps.Animation.DROP\n      });\n\n      var infoWindowContent = '<h3>' + place.name + '</h3><p> Votes: ' + place.votes + '</p>';\n\n      //event listener that loads resturant information into infowindow.\n      google.maps.event.addListener(marker, 'click', function () {\n        if (marker.getAnimation() !== null) {\n          marker.setAnimation(null);\n        } else {\n          marker.setAnimation(google.maps.Animation.BOUNCE);\n        }\n        infowindow.setContent(infoWindowContent);\n        infowindow.open(map.instance, this);\n      });\n      return marker;\n    }\n  });\n});","ast":null,"map":{"version":3,"sources":["/client/views/04-final-launch-plan/final-launch-plan.js"],"names":[],"mappings":"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","file":"/client/views/04-final-launch-plan/final-launch-plan.js.map","sourcesContent":["var finalTargets;\nvar MAP_ZOOM = 16;\nvar results;\n\nTemplate.finalLaunchPlan.helpers({\n  getAllFinalTargets : function () {\n    finalTargets = this.finalLaunches;\n    return Session.set('selectedLaunches', finalTargets);\n  }\n});\n\n\n//Pull latitude and longitude from google maps api and return location zoom\nTemplate.finalLaunchPlan.helpers({\n  //If there is an error finding the current users geoloaction - spit out error to the DOM\n  geolocationError : function() {\n    var error = Geolocation.error();\n    return error && error.message;\n  },\n\n  //Set out map options\n  mapOptions : function() {\n    var latLng = Geolocation.latLng();\n\n    //Initialize the map once we  have the latLng.\n    if (GoogleMaps.loaded() && latLng) {\n      return {\n        center : new google.maps.LatLng(latLng.lat, latLng.lng),\n        zoom : MAP_ZOOM,\n\n        // This is where you would paste any style found on Snazzy Maps.\n        styles : [{ 'featureType' :'all','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'administrative','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'administrative.country','elementType' :'geometry.stroke','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'administrative.province','elementType' :'geometry.stroke','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'landscape','elementType' :'geometry','stylers' :[{ 'visibility' :'on' },{ 'color' :'#e3e3e3' }] },{ 'featureType' :'landscape','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'landscape.man_made','elementType' :'geometry.fill','stylers' :[{ 'saturation' :'0' },{ 'lightness' :'6' },{ 'weight' :'0.90' }] },{ 'featureType' :'landscape.man_made','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'landscape.natural','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi','elementType' :'all','stylers' :[{ 'visibility' :'off' },{ 'lightness' :'0' }] },{ 'featureType' :'poi','elementType' :'geometry.fill','stylers' :[{ 'visibility' :'simplified' }] },{ 'featureType' :'poi','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.attraction','elementType' :'all','stylers' :[{ 'visibility' :'simplified' }] },{ 'featureType' :'poi.attraction','elementType' :'geometry','stylers' :[{ 'visibility' :'simplified' }] },{ 'featureType' :'poi.attraction','elementType' :'geometry.fill','stylers' :[{ 'visibility' :'simplified' }] },{ 'featureType' :'poi.attraction','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.business','elementType' :'all','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.business','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.government','elementType' :'all','stylers' :[{ 'visibility' :'simplified' }] },{ 'featureType' :'poi.government','elementType' :'geometry','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.government','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.medical','elementType' :'all','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.park','elementType' :'geometry.fill','stylers' :[{ 'visibility' :'on' },{ 'color' :'#e6f0d7' }] },{ 'featureType' :'poi.place_of_worship','elementType' :'all','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.school','elementType' :'all','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'poi.sports_complex','elementType' :'all','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'road','elementType' :'all','stylers' :[{ 'color' :'#cccccc' }] },{ 'featureType' :'road','elementType' :'geometry','stylers' :[{ 'visibility' :'on' }] },{ 'featureType' :'road','elementType' :'geometry.fill','stylers' :[{ 'saturation' :'0' },{ 'lightness' :'30' }] },{ 'featureType' :'road','elementType' :'geometry.stroke','stylers' :[{ 'visibility' :'on' }] },{ 'featureType' :'road','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'transit','elementType' :'all','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'transit','elementType' :'labels.icon','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'transit.line','elementType' :'geometry','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'transit.line','elementType' :'labels.text','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'transit.station','elementType' :'all','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'transit.station.airport','elementType' :'geometry','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'transit.station.airport','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] },{ 'featureType' :'water','elementType' :'geometry','stylers' :[{ 'color' :'#FFFFFF' }] },{ 'featureType' :'water','elementType' :'geometry.fill','stylers' :[{ 'lightness' :'-28' },{ 'saturation' :'33' },{ 'color' :'#f2f8fd' }] },{ 'featureType' :'water','elementType' :'labels','stylers' :[{ 'visibility' :'off' }] }]\n\n      };\n    }\n  },\n  allTargets : function () {\n    return Session.get('allTargets');\n  }\n});\n\n//Create google maps marker for current location\nTemplate.finalLaunchPlan.onCreated(function() {\n  var self = this;\n\n  GoogleMaps.ready('map', function(map) {\n    //get lat and long from current location\n    var latLng = Geolocation.latLng();\n\n    //variable within scope that sets current location\n    var currentPost = new google.maps.LatLng(latLng.lat, latLng.lng);\n\n    //variable that creates a new instance of marker information display\n    var infowindow = new google.maps.InfoWindow();\n\n    //Gold star SVG to mark current location\n    var goldStar = {\n    path : 'M 125,5 155,90 245,90 175,145 200,230 125,180 50,230 75,145 5,90 95,90 z',\n    fillColor : 'yellow',\n    fillOpacity : 0.8,\n    scale : .25,\n    strokeColor : 'gold',\n    strokeWeight : 5\n  };\n\n    //drop marker on current location\n    var marker = new google.maps.Marker({\n      position : currentPost,\n      map : map.instance,\n      icon : goldStar,\n      animation : google.maps.Animation.DROP\n    });\n\n    setMarkers(finalTargets);\n\n    function setMarkers(places) {\n      for (var i = 0; i < places.length; i++) {\n        //console.log('places', places[i]);\n        createMarker(places[i]);\n      }\n    }\n\n    //create marker for all restaurant locations within radius\n    function createMarker(place) {\n\n      var placeLoc = {\n        lat : place.location.G,\n        lng : place.location.K\n      };\n\n      console.log('placeLoc', placeLoc);\n      var marker = new google.maps.Marker({\n        map : map.instance,\n        position : placeLoc,\n        draggable : false,\n        icon : place.icon,\n        animation : google.maps.Animation.DROP\n      });\n\n      var infoWindowContent =\n        '<h3>' + place.name + '</h3><p> Votes: ' + place.votes + '</p>';\n\n      //event listener that loads resturant information into infowindow.\n      google.maps.event.addListener(marker, 'click', function() {\n        if (marker.getAnimation() !== null) {\n          marker.setAnimation(null);\n        } else {\n          marker.setAnimation(google.maps.Animation.BOUNCE);\n        }\n        infowindow.setContent(infoWindowContent);\n        infowindow.open(map.instance, this);\n      });\n      return marker;\n    }\n  });\n});\n"]},"hash":"49c35f9e2aaf2962da8efd11e872e47a458648d9"}
